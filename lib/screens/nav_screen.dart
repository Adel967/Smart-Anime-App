import 'dart:async';

import 'package:cached_network_image/cached_network_image.dart';
import 'package:flutter/material.dart';
import 'package:flutter_bloc/flutter_bloc.dart';
import 'package:intl/intl.dart';
import 'package:netflixbro/constants.dart';
import 'package:netflixbro/cubits/animes_load_cubit.dart';
import 'package:netflixbro/cubits/coming_soon_anime_cubit.dart';
import 'package:netflixbro/cubits/is_loading_cubit.dart';
import 'package:netflixbro/cubits/search_anime_cubit.dart';
import 'package:netflixbro/cubits/search_cubit.dart';
import 'package:netflixbro/cubits/search_kind_cubit.dart';
import 'package:netflixbro/models/models.dart';
import 'package:netflixbro/screens/coming_soon_anime.dart';
import 'package:netflixbro/screens/search_screen.dart';
import 'package:netflixbro/screens/settings.dart';
import 'package:netflixbro/services.dart';
import 'package:netflixbro/sqlite.dart';
import 'entry_block_screen.dart';
import 'screens.dart';

class NavScreen extends StatefulWidget {
  static late String email;
  static late BuildContext context;
  static void changeEmail(String email1){
    email = email1;
  }

  NavScreen(String email1){
    email = email1;
  }


  @override
  _NavScreenState createState() => _NavScreenState();
}

class _NavScreenState extends State<NavScreen> {
  late int countAnime;
  List<Anime> animes = [];
  late Timer timer ;
  final List<Widget> _screens = [
    HomePage(key: PageStorageKey('HomePage')),
    SearchScreen(),
    ComingSoonScreen(),


  ];

  final Map<String , IconData> _icons = {
    "Home": Icons.home,
    "Search": Icons.search,
    "Coming Soon": Icons.queue_play_next,
    //"Downloads": Icons.file_download,
    "Settings": Icons.settings
  };

  changeTheme(bool value){
    setState(() {
      if(value){
        backgroundColor = Colors.black;
        textColor = Colors.white;
      }else{
        backgroundColor = Colors.white;
        textColor = Colors.black;
      }
    });
  }

  changeBackgroundDownload(bool value){
    setState(() {
      backgroundDownload = value;
    });
  }

  changeEmail(String email){
    setState(() {
      NavScreen.email = email;
    });
  }

  int _currentIndex = 0;

  getAnimes()async{
    countAnime = (await SQLiteHelper.instance.readCountOfAnime());
    print("count anime" + countAnime.toString());
  }

  Future loadData()async{
    await Future.wait(
      animes.map((e) =>  cacheImage(context,e.imageUrl) ).toList()
    ).then((value) {
      SQLiteHelper.instance.insertAnime(animes);
      setState(() {
        countAnime += animes.length;
      });
      context.read<IsLoadingCubit>().changeSecondState(false);
     }

    );

  }

  insertData()async{
    print("started");
    List<List<dynamic>> list = [["2020-01-03", "09:10:20", "11:30:20", 130, 7],
      ["2020-01-04", "13:30:20", "18:14:20", 220, 12],
      ["2020-01-05", "13:40:20", "15:10:20", 80, 3],
      ["2020-01-06", "09:15:20", "13:20:20", 180, 7],

      ["2020-01-17", "07:10:20", "14:30:20", 200, 10],
      ["2020-01-18", "12:30:20", "18:14:20", 60, 3],

      ["2020-01-21", "08:20:20", "14:30:20", 344, 17],
      ["2020-01-22", "14:14:20", "15:30:20", 22, 1],
      ["2020-01-23", "10:30:20", "14:30:20", 140, 7],
      ["2020-01-24", "11:30:20", "15:30:20", 70, 3],

      ["2020-01-29", "09:30:20", "10:30:20", 25, 1],
      ["2020-01-30", "05:30:20", "16:30:20", 300, 16],
      ["2020-02-02", "10:30:20", "15:30:20", 200, 11],
      ["2020-02-03", "09:10:20", "11:30:20", 130, 7],
      ["2020-02-04", "13:30:20", "18:14:20", 220, 12],
      ["2020-02-05", "13:40:20", "15:10:20", 80, 3],

      ["2020-02-10", "11:30:20", "17:30:20", 100, 4],
      ["2020-02-11", "08:30:20", "15:30:20", 300, 14],
      ["2020-02-12", "16:00:20", "29:30:20", 190, 10],
      ["2020-02-13", "05:30:20", "10:30:20", 160, 8],
      ["2020-02-14", "08:30:20", "12:50:20", 130, 6],
      ["2020-02-16", "10:30:20", "18:30:20", 300, 15],
      ["2020-02-17", "07:10:20", "14:30:20", 200, 10],

      ["2020-02-19", "13:30:20", "15:10:20", 50, 2],
      ["2020-02-20", "10:15:20", "11:30:20", 40, 2],
      ["2020-02-22", "14:14:20", "15:30:20", 22, 1],
      ["2020-02-23", "10:30:20", "14:30:20", 140, 7],
      ["2020-02-24", "11:30:20", "15:30:20", 70, 3],

      ["2020-02-28", "05:30:20", "13:30:20", 250, 13],
      ["2020-03-01", "09:02:20", "09:30:20", 28, 1],
      ["2020-03-02", "10:30:20", "15:30:20", 190, 10],
      ["2020-03-03", "08:10:20", "12:30:20", 20, 1],
      ["2020-03-04", "01:30:20", "18:14:20", 70, 4],
      ["2020-03-05", "13:40:20", "15:10:20", 80, 3],
      ["2020-03-06", "09:15:20", "13:20:20", 200, 9],
      ["2020-03-12", "16:00:20", "28:30:20", 140, 6],
      ["2020-03-13", "05:30:20", "10:30:20", 220, 9],
      ["2020-03-14", "08:30:20", "12:50:20", 200, 7],
      ["2020-03-15", "09:30:20", "15:30:20", 250, 12],

      ["2020-03-19", "13:30:20", "15:10:20", 80, 3],
      ["2020-03-20", "09:15:20", "11:30:20", 90, 4],
      ["2020-03-22", "14:14:20", "15:30:20", 50, 2],
      ["2020-03-23", "10:30:20", "14:30:20", 180, 7],
      ["2020-03-24", "11:30:20", "15:30:20", 200, 6],
      ["2020-03-25", "07:30:20", "15:30:20", 200, 8],
      ["2020-03-26", "16:30:20", "24:30:20", 300, 13],
      ["2020-03-27", "05:30:20", "10:30:20", 220, 9],
      ["2020-03-30", "05:30:20", "10:30:20", 220, 9],
      ["2020-04-01", "09:02:20", "09:30:20", 28, 1],

      ["2020-04-03", "08:10:20", "12:30:20", 20, 1],
      ["2020-04-04", "01:30:20", "18:14:20", 70, 4],
      ["2020-04-05", "13:40:20", "15:10:20", 80, 3],
      ["2020-04-06", "09:15:20", "13:20:20", 50, 3],
      ["2020-04-07", "08:05:20", "20:30:20", 300, 14],
      ["2020-04-08", "11:14:20", "15:30:20", 50, 2],

      ["2020-04-14", "08:30:20", "12:50:20", 100, 3],
      ["2020-04-15", "09:30:20", "15:30:20", 250, 12],
      ["2020-04-18", "03:30:20", "18:14:20", 160, 17],

      ["2020-04-20", "09:15:20", "11:30:20", 90, 4],
      ["2020-04-22", "14:14:20", "15:30:20", 50, 2],
      ["2020-04-23", "10:30:20", "14:30:20", 180, 7],
      ["2020-04-24", "11:30:20", "15:30:20", 200, 6],

      ["2020-04-27", "05:30:20", "10:30:20", 220, 9],
      ["2020-04-30", "05:30:20", "10:30:20", 220, 9],
      ["2020-05-01", "09:02:20", "09:30:20", 28, 1],
      ["2020-05-02", "10:30:20", "15:30:20", 190, 10],
      ["2020-05-03", "08:10:20", "12:30:20", 20, 1],

      ["2020-05-05", "13:40:20", "15:10:20", 80, 3],
      ["2020-05-06", "09:15:20", "13:20:20", 50, 3],
      ["2020-05-07", "08:05:20", "20:30:20", 300, 14],
      ["2020-05-08", "11:14:20", "15:30:20", 50, 2],
      ["2020-05-09", "05:30:20", "15:30:20", 350, 17],
      ["2020-05-12", "16:00:20", "28:30:20", 140, 6],
      ["2020-05-13", "05:30:20", "10:30:20", 220, 9],
      ["2020-05-14", "08:30:20", "12:50:20", 100, 3],
      ["2020-05-15", "09:30:20", "15:30:20", 250, 12],
      ["2020-05-16", "03:30:20", "18:14:20", 160, 17],
      ["2020-05-17", "13:30:20", "15:10:20", 80, 3],

      ["2020-05-20", "09:15:20", "11:30:20", 90, 4],
      ["2020-05-22", "14:14:20", "15:30:20", 50, 2],


      ["2020-06-01", "09:02:20", "09:30:20", 28, 1],
      ["2020-06-02", "10:30:20", "15:30:20", 190, 10],
      ["2020-06-03", "08:10:20", "12:30:20", 20, 1],

      ["2020-06-05", "13:40:20", "15:10:20", 80, 3],
      ["2020-06-06", "09:15:20", "13:20:20", 210, 11],

      ["2020-06-12", "16:00:20", "28:30:20", 140, 6],
      ["2020-06-13", "06:30:20", "10:30:20", 220, 9],

      ["2020-06-15", "09:30:20", "15:30:20", 250, 12],
      ["2020-06-16", "03:30:20", "18:14:20", 160, 17],
      ["2020-06-17", "13:30:20", "15:10:20", 80, 3],
      ["2020-06-19", "13:30:20", "15:10:20", 30, 2],
      ["2020-06-20", "08:15:20", "15:30:20", 270, 13],
      ["2020-06-22", "14:14:20", "15:30:20", 50, 2],
      ["2020-06-23", "10:30:20", "14:30:20", 180, 7],
      ["2020-06-25", "07:30:20", "15:30:20", 120, 6],
      ["2020-06-26", "16:30:20", "24:30:20", 300, 13],

      ["2020-07-04", "01:30:20", "18:14:20", 300, 15],
      ["2020-07-05", "13:40:20", "15:10:20", 80, 3],
      ["2020-07-06", "09:15:20", "13:20:20", 200, 9],
      ["2020-07-07", "08:05:20", "20:30:20", 300, 14],
      ["2020-07-08", "11:14:20", "15:30:20", 50, 2],
      ["2020-07-09", "09:30:20", "12:30:20", 180, 7],
      ["2020-07-10", "11:30:20", "17:30:20", 150, 7],
      ["2020-07-11", "05:30:20", "15:30:20", 350, 17],
      ["2020-07-12", "16:00:20", "28:30:20", 140, 6],

      ["2020-07-15", "09:30:20", "15:30:20", 250, 12],

      ["2020-07-19", "13:30:20", "15:10:20", 80, 3],
      ["2020-07-20", "09:15:20", "11:30:20", 90, 4],
      ["2020-07-21", "08:20:20", "20:30:20", 600, 26],

      ["2020-07-23", "10:30:20", "14:30:20", 180, 7],
      ["2020-07-24", "11:30:20", "15:30:20", 200, 6],

      ["2020-08-01", "10:30:20", "15:30:20", 150, 8],
      ["2020-08-03", "09:10:20", "11:30:20", 130, 7],

      ["2020-08-06", "09:15:20", "13:20:20", 180, 7],
      ["2020-08-08", "11:14:20", "15:30:20", 20, 1],
      ["2020-08-10", "11:30:20", "17:30:20", 100, 4],
      ["2020-08-11", "08:30:20", "15:30:20", 300, 14],
      ["2020-08-12", "16:00:20", "29:30:20", 190, 10],
      ["2020-08-13", "05:30:20", "10:30:20", 160, 8],

      ["2020-08-18", "12:30:20", "18:14:20", 20, 1],
      ["2020-08-19", "13:30:20", "15:10:20", 50, 2],
      ["2020-08-20", "10:15:20", "11:30:20", 40, 2],
      ["2020-08-22", "14:14:20", "15:30:20", 22, 1],

      ["2020-09-06", "09:15:20", "13:20:20", 180, 7],
      ["2020-09-07", "12:15:20", "13:20:20", 65, 3],
      ["2020-09-09", "11:14:20", "15:30:20", 20, 1],
      ["2020-09-10", "11:30:20", "17:30:20", 100, 4],
      ["2020-09-11", "08:30:20", "16:30:20", 360, 16],
      ["2020-09-12", "16:00:20", "29:30:20", 190, 10],
      ["2020-09-13", "05:30:20", "10:30:20", 160, 8],
      ["2020-09-14", "08:30:20", "12:50:20", 130, 6],
      ["2020-09-16", "10:30:20", "18:30:20", 300, 15],

      ["2020-09-18", "12:30:20", "18:14:20", 20, 1],
      ["2020-09-19", "13:30:20", "15:10:20", 50, 2],

      ["2020-09-23", "10:30:20", "14:30:20", 200, 13],
      ["2020-09-24", "11:30:20", "15:30:20", 70, 3],
      ["2020-09-26", "16:30:20", "22:30:20", 200, 11],
      ["2020-09-27", "06:30:20", "20:30:20", 190, 9],
      ["2020-09-28", "05:30:20", "13:30:20", 200, 10],

      ["2020-10-02", "10:30:20", "12:30:20", 110, 6],
      ["2020-10-03", "09:10:20", "11:30:20", 130, 7],
      ["2020-10-05", "13:40:20", "15:10:20", 80, 3],
      ["2020-10-06", "09:15:20", "13:20:20", 180, 7],
      ["2020-10-07", "12:15:20", "13:20:20", 65, 3],
      ["2020-10-09", "11:14:20", "15:30:20", 20, 1],
      ["2020-10-10", "11:30:20", "17:30:20", 100, 4],

      ["2020-10-13", "05:30:20", "10:30:20", 160, 8],
      ["2020-10-14", "08:30:20", "12:50:20", 130, 6],
      ["2020-10-16", "10:30:20", "18:30:20", 300, 15],

      ["2020-10-19", "13:30:20", "15:10:20", 50, 2],
      ["2020-10-20", "10:15:20", "11:30:20", 40, 2],
      ["2020-10-23", "10:30:20", "14:30:20", 200, 13],
      ["2020-10-24", "11:30:20", "15:30:20", 70, 3],

      ["2020-10-27", "06:30:20", "20:30:20", 190, 9],
      ["2020-10-28", "05:30:20", "13:30:20", 200, 10],

      ["2020-11-02", "10:30:20", "12:30:20", 110, 6],

      ["2020-11-06", "09:15:20", "13:20:20", 180, 7],
      ["2020-11-09", "11:14:20", "15:30:20", 20, 1],
      ["2020-11-10", "11:30:20", "17:30:20", 100, 4],

      ["2020-11-13", "05:30:20", "10:30:20", 160, 8],
      ["2020-11-14", "08:30:20", "12:50:20", 130, 6],
      ["2020-11-16", "10:30:20", "18:30:20", 300, 15],
      ["2020-11-17", "07:10:20", "14:30:20", 200, 10],

      ["2020-11-19", "13:30:20", "15:10:20", 50, 2],
      ["2020-11-22", "14:14:20", "15:30:20", 22, 1],
      ["2020-11-23", "10:30:20", "14:30:20", 200, 13],
      ["2020-11-24", "11:30:20", "15:30:20", 70, 3],

      ["2020-11-27", "06:30:20", "20:30:20", 190, 9],
      ["2020-11-28", "05:30:20", "13:30:20", 200, 10],
      ["2020-12-01", "10:30:20", "15:30:20", 200, 9],
      ["2020-12-02", "10:30:20", "12:30:20", 110, 6],

      ["2020-12-09", "11:14:20", "15:30:20", 20, 1],
      ["2020-12-10", "11:30:20", "17:30:20", 100, 4],
      ["2020-12-11", "08:30:20", "16:30:20", 220, 10],
      ["2020-12-13", "05:30:20", "10:30:20", 160, 8],
      ["2020-12-14", "08:30:20", "12:50:20", 130, 6],

      ["2020-12-17", "07:10:20", "14:30:20", 200, 10],
      ["2020-12-18", "12:30:20", "18:14:20", 20, 1],
      ["2020-12-19", "13:30:20", "15:10:20", 50, 2],
      ["2020-12-22", "14:14:20", "15:30:20", 22, 1],

      ["2020-12-24", "11:30:20", "15:30:20", 70, 3],
      ["2020-12-26", "16:30:20", "22:30:20", 200, 11],
      ["2020-12-27", "06:30:20", "20:30:20", 190, 9],
      ["2020-12-28", "05:30:20", "13:30:20", 200, 10],
      ["2021-01-03", "09:10:20", "11:30:20", 130, 7],
      ["2021-01-04", "13:30:20", "18:14:20", 220, 12],
      ["2021-01-05", "13:40:20", "15:10:20", 80, 3],
      ["2021-01-06", "09:15:20", "13:20:20", 180, 7],

      ["2021-01-09", "09:30:20", "12:30:20", 120, 5],
      ["2021-01-10", "11:30:20", "17:30:20", 100, 4],
      ["2021-01-11", "08:30:20", "15:30:20", 400, 18],
      ["2021-01-12", "16:00:20", "29:30:20", 190, 10],
      ["2021-01-13", "05:30:20", "10:30:20", 160, 8],

      ["2021-01-16", "10:30:20", "18:30:20", 300, 15],
      ["2021-01-17", "07:10:20", "14:30:20", 200, 10],
      ["2021-01-18", "12:30:20", "18:14:20", 60, 3],
      ["2021-01-19", "13:30:20", "15:10:20", 50, 2],
      ["2021-01-20", "10:15:20", "11:30:20", 40, 2],
      ["2021-01-21", "08:20:20", "14:30:20", 344, 17],

      ["2021-01-23", "10:30:20", "14:30:20", 140, 7],
      ["2021-01-24", "11:30:20", "15:30:20", 70, 3],
      ["2021-01-26", "16:30:20", "22:30:20", 200, 11],
      ["2021-01-27", "06:30:20", "20:30:20", 390, 20],
      ["2021-01-28", "05:30:20", "13:30:20", 250, 13],
      ["2021-01-29", "09:30:20", "10:30:20", 25, 1],
      ["2021-01-30", "05:30:20", "16:30:20", 300, 16],
      ["2021-02-02", "10:30:20", "15:30:20", 200, 11],

      ["2021-02-04", "13:30:20", "18:14:20", 220, 12],
      ["2021-02-05", "13:40:20", "15:10:20", 80, 3],
      ["2021-02-06", "09:15:20", "13:20:20", 180, 7],
      ["2021-02-08", "11:14:20", "15:30:20", 20, 1],
      ["2021-02-10", "11:30:20", "17:30:20", 100, 4],
      ["2021-02-11", "08:30:20", "15:30:20", 300, 14],
      ["2021-02-12", "16:00:20", "29:30:20", 190, 10],
      ["2021-02-13", "05:30:20", "10:30:20", 160, 8],
      ["2021-02-14", "08:30:20", "12:50:20", 130, 6],
      ["2021-02-16", "10:30:20", "18:30:20", 300, 15],

      ["2021-02-18", "12:30:20", "18:14:20", 20, 1],
      ["2021-02-19", "13:30:20", "15:10:20", 50, 2],
      ["2021-02-20", "10:15:20", "11:30:20", 40, 2],
      ["2021-02-22", "14:14:20", "15:30:20", 22, 1],
      ["2021-02-23", "10:30:20", "14:30:20", 140, 7],
      ["2021-02-24", "11:30:20", "15:30:20", 70, 3],

      ["2021-02-27", "06:30:20", "20:30:20", 390, 20],
      ["2021-02-28", "05:30:20", "13:30:20", 250, 13],
      ["2021-03-01", "09:02:20", "09:30:20", 28, 1],
      ["2021-03-02", "10:30:20", "15:30:20", 190, 10],
      ["2021-03-03", "08:10:20", "12:30:20", 20, 1],
      ["2021-03-04", "01:30:20", "18:14:20", 70, 4],
      ["2021-03-05", "13:40:20", "15:10:20", 80, 3],

      ["2021-03-07", "08:05:20", "20:30:20", 300, 14],
      ["2021-03-08", "11:14:20", "15:30:20", 50, 2],
      ["2021-03-11", "05:30:20", "15:30:20", 350, 17],
      ["2021-03-12", "16:00:20", "28:30:20", 140, 6],
      ["2021-03-13", "05:30:20", "10:30:20", 220, 9],
      ["2021-03-14", "08:30:20", "12:50:20", 200, 7],
      ["2021-03-15", "09:30:20", "15:30:20", 250, 12],

      ["2021-03-19", "13:30:20", "15:10:20", 80, 3],
      ["2021-03-20", "09:15:20", "11:30:20", 90, 4],
      ["2021-03-22", "14:14:20", "15:30:20", 50, 2],
      ["2021-03-23", "10:30:20", "14:30:20", 180, 7],
      ["2021-03-24", "11:30:20", "15:30:20", 200, 6],
      ["2021-03-25", "07:30:20", "15:30:20", 200, 8],
      ["2021-03-26", "16:30:20", "24:30:20", 300, 13],
      ["2021-03-27", "05:30:20", "10:30:20", 220, 9],

      ["2021-04-01", "09:02:20", "09:30:20", 28, 1],
      ["2021-04-02", "10:30:20", "15:30:20", 190, 10],
      ["2021-04-03", "08:10:20", "12:30:20", 20, 1],
      ["2021-04-04", "01:30:20", "18:14:20", 70, 4],
      ["2021-04-05", "13:40:20", "15:10:20", 80, 3],
      ["2021-04-06", "09:15:20", "13:20:20", 50, 3],
      ["2021-04-07", "08:05:20", "20:30:20", 300, 14],
      ["2021-04-08", "11:14:20", "15:30:20", 50, 2],
      ["2021-04-11", "05:30:20", "15:30:20", 350, 17],
      ["2021-04-12", "16:00:20", "28:30:20", 140, 6],

      ["2021-04-14", "08:30:20", "12:50:20", 100, 3],
      ["2021-04-15", "09:30:20", "15:30:20", 250, 12],
      ["2021-04-18", "03:30:20", "18:14:20", 160, 17],
      ["2021-04-19", "13:30:20", "15:10:20", 80, 3],
      ["2021-04-20", "09:15:20", "11:30:20", 90, 4],
      ["2021-04-22", "14:14:20", "15:30:20", 50, 2],

      ["2021-04-24", "11:30:20", "15:30:20", 200, 6],
      ["2021-04-25", "07:30:20", "15:30:20", 120, 6],
      ["2021-04-26", "16:30:20", "24:30:20", 300, 13],
      ["2021-04-27", "05:30:20", "10:30:20", 220, 9],
      ["2021-04-30", "05:30:20", "10:30:20", 220, 9],

      ["2021-05-02", "10:30:20", "15:30:20", 190, 10],
      ["2021-05-03", "08:10:20", "12:30:20", 20, 1],
      ["2021-05-04", "01:30:20", "18:14:20", 70, 4],
      ["2021-05-05", "13:40:20", "15:10:20", 80, 3],
      ["2021-05-06", "09:15:20", "13:20:20", 50, 3],
      ["2021-05-07", "08:05:20", "20:30:20", 300, 14],
      ["2021-05-08", "11:14:20", "15:30:20", 50, 2],

      ["2021-05-12", "16:00:20", "28:30:20", 140, 6],
      ["2021-05-13", "05:30:20", "10:30:20", 220, 9],
      ["2021-05-14", "08:30:20", "12:50:20", 100, 3],
      ["2021-05-15", "09:30:20", "15:30:20", 250, 12],
      ["2021-05-16", "03:30:20", "18:14:20", 160, 17],
      ["2021-05-17", "13:30:20", "15:10:20", 80, 3],

      ["2021-05-20", "09:15:20", "11:30:20", 90, 4],
      ["2021-05-22", "14:14:20", "15:30:20", 50, 2],
      ["2021-05-23", "10:30:20", "14:30:20", 180, 7],
      ["2021-05-25", "07:30:20", "15:30:20", 120, 6],
      ["2021-05-26", "16:30:20", "24:30:20", 300, 13],

      ["2021-05-30", "05:30:20", "10:30:20", 220, 9],
      ["2021-06-01", "09:02:20", "09:30:20", 28, 1],
      ["2021-06-02", "10:30:20", "15:30:20", 190, 10],
      ["2021-06-03", "08:10:20", "12:30:20", 20, 1],
      ["2021-06-04", "01:30:20", "18:14:20", 400, 20],
      ["2021-06-05", "13:40:20", "15:10:20", 80, 3],

      ["2021-06-07", "08:06:20", "20:30:20", 300, 14],
      ["2021-06-08", "11:14:20", "15:30:20", 50, 2],
      ["2021-06-09", "06:30:20", "15:30:20", 350, 17],
      ["2021-06-12", "16:00:20", "28:30:20", 140, 6],

      ["2021-06-14", "08:30:20", "12:50:20", 100, 3],
      ["2021-06-15", "09:30:20", "15:30:20", 250, 12],
      ["2021-06-16", "03:30:20", "18:14:20", 160, 17],
      ["2021-06-17", "13:30:20", "15:10:20", 80, 3],

      ["2021-06-20", "08:15:20", "15:30:20", 270, 13],
      ["2021-06-22", "14:14:20", "15:30:20", 50, 2],
      ["2021-06-23", "10:30:20", "14:30:20", 180, 7],
      ["2021-06-25", "07:30:20", "15:30:20", 120, 6],
      ["2021-06-26", "16:30:20", "24:30:20", 300, 13],
      ["2021-06-27", "06:30:20", "10:30:20", 220, 9],
      ["2021-06-30", "06:30:20", "10:30:20", 220, 9],
      ["2021-07-01", "09:02:20", "09:30:20", 28, 1],
      ["2021-07-02", "10:30:20", "15:30:20", 250, 12],
      ["2021-07-03", "08:10:20", "12:30:20", 200, 8],
      ["2021-07-04", "01:30:20", "18:14:20", 300, 15],
      ["2021-07-05", "13:40:20", "15:10:20", 80, 3],
      ["2021-07-06", "09:15:20", "13:20:20", 200, 9],
      ["2021-07-07", "08:05:20", "20:30:20", 300, 14],

      ["2021-07-09", "09:30:20", "12:30:20", 180, 7],
      ["2021-07-10", "11:30:20", "17:30:20", 150, 7],
      ["2021-07-11", "05:30:20", "15:30:20", 350, 17],
      ["2021-07-12", "16:00:20", "28:30:20", 140, 6],
      ["2021-07-13", "05:30:20", "10:30:20", 220, 9],
      ["2021-07-14", "08:30:20", "12:50:20", 200, 7],
      ["2021-07-15", "09:30:20", "15:30:20", 250, 12],
      ["2021-07-16", "10:30:20", "15:30:20", 250, 12],

      ["2021-07-18", "03:30:20", "18:14:20", 500, 22],
      ["2021-07-19", "13:30:20", "15:10:20", 80, 3],
      ["2021-07-20", "09:15:20", "11:30:20", 90, 4],
      ["2021-07-21", "08:20:20", "20:30:20", 600, 26],
      ["2021-07-22", "14:14:20", "15:30:20", 50, 2],
      ["2021-07-23", "10:30:20", "14:30:20", 180, 7],
      ["2021-07-24", "11:30:20", "15:30:20", 200, 6],
      ["2021-07-25", "07:30:20", "15:30:20", 200, 8],
      ["2021-07-26", "16:30:20", "24:30:20", 300, 13],
      ["2021-07-27", "05:30:20", "10:30:20", 220, 9],

      ["2021-08-03", "09:10:20", "11:30:20", 130, 7],
      ["2021-08-04", "13:30:20", "18:14:20", 220, 12],
      ["2021-08-05", "13:40:20", "15:10:20", 80, 3],
      ["2021-08-06", "09:15:20", "13:20:20", 180, 7],
      ["2021-08-08", "11:14:20", "15:30:20", 20, 1],
      ["2021-08-10", "11:30:20", "17:30:20", 100, 4],
      ["2021-08-11", "08:30:20", "15:30:20", 300, 14],
      ["2021-08-12", "16:00:20", "29:30:20", 190, 10],
      ["2021-08-13", "05:30:20", "10:30:20", 160, 8],
      ["2021-08-14", "08:30:20", "12:50:20", 130, 6],

      ["2021-08-17", "07:10:20", "14:30:20", 200, 10],
      ["2021-08-18", "12:30:20", "18:14:20", 20, 1],
      ["2021-08-19", "13:30:20", "15:10:20", 50, 2],
      ["2021-08-20", "10:15:20", "11:30:20", 40, 2],
      ["2021-08-22", "14:14:20", "15:30:20", 22, 1],
      ["2021-08-23", "10:30:20", "14:30:20", 140, 7],
      ["2021-08-24", "11:30:20", "15:30:20", 70, 3],
      ["2021-08-26", "16:30:20", "22:30:20", 200, 11],
      ["2021-08-27", "06:30:20", "20:30:20", 190, 9],
      ["2021-08-28", "05:30:20", "13:30:20", 200, 10],

      ["2021-09-02", "10:30:20", "12:30:20", 110, 6],
      ["2021-09-03", "09:10:20", "11:30:20", 130, 7],
      ["2021-09-04", "13:30:20", "20:14:20", 380, 18],
      ["2021-09-05", "13:40:20", "15:10:20", 80, 3],
      ["2021-09-06", "09:15:20", "13:20:20", 180, 7],
      ["2021-09-07", "12:15:20", "13:20:20", 65, 3],
      ["2021-09-09", "11:14:20", "15:30:20", 20, 1],
      ["2021-09-10", "11:30:20", "17:30:20", 100, 4],
      ["2021-09-11", "08:30:20", "16:30:20", 360, 16],
      ["2021-09-12", "16:00:20", "29:30:20", 190, 10],
      ["2021-09-13", "05:30:20", "10:30:20", 160, 8],
      ["2021-09-14", "08:30:20", "12:50:20", 130, 6],

      ["2021-09-17", "07:10:20", "14:30:20", 200, 10],
      ["2021-09-18", "12:30:20", "18:14:20", 20, 1],
      ["2021-09-19", "13:30:20", "15:10:20", 50, 2],
      ["2021-09-20", "10:15:20", "11:30:20", 40, 2],
      ["2021-09-22", "14:14:20", "15:30:20", 22, 1],
      ["2021-09-23", "10:30:20", "14:30:20", 200, 13],
      ["2021-09-24", "11:30:20", "15:30:20", 70, 3],
      ["2021-09-26", "16:30:20", "22:30:20", 200, 11],
      ["2021-09-27", "06:30:20", "20:30:20", 190, 9],
      ["2021-09-28", "05:30:20", "13:30:20", 200, 10],
      ["2021-10-01", "10:30:20", "15:30:20", 250, 13],

      ["2021-10-03", "09:10:20", "11:30:20", 130, 7],
      ["2021-10-05", "13:40:20", "15:10:20", 80, 3],
      ["2021-10-06", "09:15:20", "13:20:20", 180, 7],
      ["2021-10-07", "12:15:20", "13:20:20", 65, 3],

      ["2021-10-10", "11:30:20", "17:30:20", 100, 4],
      ["2021-10-12", "16:00:20", "29:30:20", 190, 10],
      ["2021-10-13", "05:30:20", "10:30:20", 160, 8],
      ["2021-10-14", "08:30:20", "12:50:20", 130, 6],
      ["2021-10-16", "10:30:20", "18:30:20", 300, 15],
      ["2021-10-17", "07:10:20", "14:30:20", 200, 10],
      ["2021-10-19", "13:30:20", "15:10:20", 50, 2],
      ["2021-10-20", "10:15:20", "11:30:20", 40, 2],
      ["2021-10-23", "10:30:20", "14:30:20", 200, 13],
      ["2021-10-24", "11:30:20", "15:30:20", 70, 3],
      ["2021-10-26", "16:30:20", "22:30:20", 200, 11],

      ["2021-10-28", "05:30:20", "13:30:20", 200, 10],
      ["2021-11-01", "10:30:20", "15:30:20", 250, 13],
      ["2021-11-02", "10:30:20", "12:30:20", 110, 6],
      ["2021-11-03", "09:10:20", "11:30:20", 130, 7],
      ["2021-11-05", "13:40:20", "15:10:20", 80, 3],
      ["2021-11-06", "09:15:20", "13:20:20", 180, 7],

      ["2021-11-10", "11:30:20", "17:30:20", 100, 4],
      ["2021-11-11", "08:30:20", "16:30:20", 360, 16],
      ["2021-11-13", "05:30:20", "10:30:20", 160, 8],
      ["2021-11-14", "08:30:20", "12:50:20", 130, 6],
      ["2021-11-16", "10:30:20", "18:30:20", 300, 15],
      ["2021-11-17", "07:10:20", "14:30:20", 200, 10],
      ["2021-11-18", "12:30:20", "18:14:20", 20, 1],
      ["2021-11-19", "13:30:20", "15:10:20", 50, 2],
      ["2021-11-22", "14:14:20", "15:30:20", 22, 1],
      ["2021-11-23", "10:30:20", "14:30:20", 200, 13],
      ["2021-11-24", "11:30:20", "15:30:20", 70, 3],
      ["2021-11-26", "16:30:20", "22:30:20", 200, 11],
      ["2021-11-27", "06:30:20", "20:30:20", 190, 9],

      ["2021-12-02", "10:30:20", "12:30:20", 110, 6],
      ["2021-12-03", "09:10:20", "11:30:20", 130, 7],
      ["2021-12-05", "13:40:20", "15:10:20", 80, 3],
      ["2021-12-06", "09:15:20", "13:20:20", 120, 5],
      ["2021-12-09", "11:14:20", "15:30:20", 20, 1],
      ["2021-12-10", "11:30:20", "17:30:20", 100, 4],
      ["2021-12-11", "08:30:20", "16:30:20", 220, 10],

      ["2021-12-16", "10:30:20", "18:30:20", 300, 15],
      ["2021-12-17", "07:10:20", "14:30:20", 200, 10],
      ["2021-12-18", "12:30:20", "18:14:20", 20, 1],
      ["2021-12-19", "13:30:20", "15:10:20", 50, 2],
      ["2021-12-22", "14:14:20", "15:30:20", 22, 1],
      ["2021-12-23", "10:30:20", "14:30:20", 200, 13],

      ["2021-12-26", "16:30:20", "22:30:20", 200, 11],
      ["2021-12-27", "06:30:20", "20:30:20", 190, 9],
      ["2021-12-28", "05:30:20", "13:30:20", 200, 10],
      ["2022-01-03", "09:10:20", "11:30:20", 130, 7],
      ["2022-01-04", "13:30:20", "18:14:20", 220, 12],
      ["2022-01-05", "13:40:20", "15:10:20", 80, 3],
      ["2022-01-06", "09:15:20", "13:20:20", 180, 7],
      ["2022-01-08", "11:14:20", "15:30:20", 20, 1],
      ["2022-01-09", "09:30:20", "12:30:20", 120, 5],
      ["2022-01-10", "11:30:20", "17:30:20", 100, 4],
      ["2022-01-11", "08:30:20", "15:30:20", 400, 18],
      ["2022-01-12", "16:00:20", "29:30:20", 190, 10],
      ["2022-01-13", "05:30:20", "10:30:20", 160, 8],
      ["2022-01-14", "08:30:20", "12:50:20", 130, 6],
      ["2022-01-16", "10:30:20", "18:30:20", 300, 15],
      ["2022-01-17", "07:10:20", "14:30:20", 200, 10],
      ["2022-01-18", "12:30:20", "18:14:20", 60, 3],
      ["2022-01-19", "13:30:20", "15:10:20", 50, 2],
      ["2022-01-20", "10:15:20", "11:30:20", 40, 2],
      ["2022-01-21", "08:20:20", "14:30:20", 344, 17],
      ["2022-01-22", "14:14:20", "15:30:20", 22, 1],
      ["2022-01-23", "10:30:20", "14:30:20", 140, 7],
      ["2022-01-24", "11:30:20", "15:30:20", 70, 3],
      ["2022-01-26", "16:30:20", "22:30:20", 200, 11],
      ["2022-01-27", "06:30:20", "20:30:20", 390, 20],
      ["2022-01-28", "05:30:20", "13:30:20", 250, 13],
      ["2022-01-29", "09:30:20", "10:30:20", 25, 1],
      ["2022-01-30", "05:30:20", "16:30:20", 300, 16],
      ["2022-02-02", "10:30:20", "15:30:20", 200, 11],
      ["2022-02-03", "09:10:20", "11:30:20", 130, 7],
      ["2022-02-04", "13:30:20", "18:14:20", 220, 12],
      ["2022-02-05", "13:40:20", "15:10:20", 80, 3],
      ["2022-02-06", "09:15:20", "13:20:20", 180, 7],
      ["2022-02-08", "11:14:20", "15:30:20", 20, 1],
      ["2022-02-10", "11:30:20", "17:30:20", 100, 4],
      ["2022-02-11", "08:30:20", "15:30:20", 300, 14],
      ["2022-02-12", "16:00:20", "29:30:20", 190, 10],
      ["2022-02-13", "05:30:20", "10:30:20", 160, 8],
      ["2022-02-14", "08:30:20", "12:50:20", 130, 6],
      ["2022-02-16", "10:30:20", "18:30:20", 300, 15],
      ["2022-02-17", "07:10:20", "14:30:20", 200, 10],
      ["2022-02-18", "12:30:20", "18:14:20", 20, 1],
      ["2022-02-19", "13:30:20", "15:10:20", 50, 2],
      ["2022-02-20", "10:15:20", "11:30:20", 40, 2],
      ["2022-02-22", "14:14:20", "15:30:20", 22, 1],
      ["2022-02-23", "10:30:20", "14:30:20", 140, 7],
      ["2022-02-24", "11:30:20", "15:30:20", 70, 3],
      ["2022-02-26", "16:30:20", "22:30:20", 200, 11],
      ["2022-02-27", "06:30:20", "20:30:20", 390, 20],
      ["2022-02-28", "05:30:20", "13:30:20", 250, 13],
      ["2022-03-01", "09:02:20", "09:30:20", 28, 1],
      ["2022-03-02", "10:30:20", "15:30:20", 190, 10],
      ["2022-03-03", "08:10:20", "12:30:20", 20, 1],
      ["2022-03-04", "01:30:20", "18:14:20", 70, 4],
      ["2022-03-05", "13:40:20", "15:10:20", 80, 3],
      ["2022-03-06", "09:15:20", "13:20:20", 200, 9],
      ["2022-03-07", "08:05:20", "20:30:20", 300, 14],
      ["2022-03-08", "11:14:20", "15:30:20", 50, 2],
      ["2022-03-11", "05:30:20", "15:30:20", 350, 17],
      ["2022-03-12", "16:00:20", "28:30:20", 140, 6],
      ["2022-03-13", "05:30:20", "10:30:20", 220, 9],
      ["2022-03-14", "08:30:20", "12:50:20", 200, 7],
      ["2022-03-15", "09:30:20", "15:30:20", 250, 12],
      ["2022-03-18", "03:30:20", "18:14:20", 300, 14],
      ["2022-03-19", "13:30:20", "15:10:20", 80, 3],
      ["2022-03-20", "09:15:20", "11:30:20", 90, 4],
      ["2022-03-22", "14:14:20", "15:30:20", 50, 2],
      ["2022-03-23", "10:30:20", "14:30:20", 180, 7],
      ["2022-03-24", "11:30:20", "15:30:20", 200, 6],
      ["2022-03-25", "07:30:20", "15:30:20", 200, 8],
      ["2022-03-26", "16:30:20", "24:30:20", 300, 13],
      ["2022-03-27", "05:30:20", "10:30:20", 220, 9],
      ["2022-03-30", "05:30:20", "10:30:20", 220, 9],
      ["2022-04-01", "09:02:20", "09:30:20", 28, 1],
      ["2022-04-02", "10:30:20", "15:30:20", 190, 10],
      ["2022-04-03", "08:10:20", "12:30:20", 20, 1],
      ["2022-04-04", "01:30:20", "18:14:20", 70, 4],
      ["2022-04-05", "13:40:20", "15:10:20", 80, 3],
      ["2022-04-06", "09:15:20", "13:20:20", 50, 3],
      ["2022-04-07", "08:05:20", "20:30:20", 300, 14],
      ["2022-04-08", "11:14:20", "15:30:20", 50, 2],
      ["2022-04-11", "05:30:20", "15:30:20", 350, 17],
      ["2022-04-12", "16:00:20", "28:30:20", 140, 6],
      ["2022-04-13", "05:30:20", "10:30:20", 220, 9],
      ["2022-04-14", "08:30:20", "12:50:20", 100, 3],
      ["2022-04-15", "09:30:20", "15:30:20", 250, 12],
      ["2022-04-18", "03:30:20", "18:14:20", 160, 17],
      ["2022-04-19", "13:30:20", "15:10:20", 80, 3],
      ["2022-04-20", "09:15:20", "11:30:20", 90, 4],
      ["2022-04-22", "14:14:20", "15:30:20", 50, 2],
      ["2022-04-23", "10:30:20", "14:30:20", 180, 7],
      ["2022-04-24", "11:30:20", "15:30:20", 200, 6],
      ["2022-04-25", "07:30:20", "15:30:20", 120, 6],
      ["2022-04-26", "16:30:20", "24:30:20", 300, 13],
      ["2022-04-27", "05:30:20", "10:30:20", 220, 9],
      ["2022-04-30", "05:30:20", "10:30:20", 220, 9],
      ["2022-05-01", "09:02:20", "09:30:20", 28, 1],
      ["2022-05-02", "10:30:20", "15:30:20", 190, 10],
      ["2022-05-03", "08:10:20", "12:30:20", 20, 1],
      ["2022-05-04", "01:30:20", "18:14:20", 70, 4],
      ["2022-05-05", "13:40:20", "15:10:20", 80, 3],
      ["2022-05-06", "09:15:20", "13:20:20", 50, 3],
      ["2022-05-07", "08:05:20", "20:30:20", 300, 14],
      ["2022-05-08", "11:14:20", "15:30:20", 50, 2],
      ["2022-05-09", "05:30:20", "15:30:20", 350, 17],
      ["2022-05-12", "16:00:20", "28:30:20", 140, 6],
      ["2022-05-13", "05:30:20", "10:30:20", 220, 9],
      ["2022-05-14", "08:30:20", "12:50:20", 100, 3],
      ["2022-05-15", "09:30:20", "15:30:20", 250, 12],
      ["2022-05-16", "03:30:20", "18:14:20", 160, 17],
      ["2022-05-17", "13:30:20", "15:10:20", 80, 3],
      ["2022-05-19", "13:30:20", "15:10:20", 30, 2],
      ["2022-05-20", "09:15:20", "11:30:20", 90, 4],
      ["2022-05-22", "14:14:20", "15:30:20", 50, 2],
      ["2022-05-23", "10:30:20", "14:30:20", 180, 7],
      ["2022-05-25", "07:30:20", "15:30:20", 120, 6],
      ["2022-05-26", "16:30:20", "24:30:20", 300, 13],
      ["2022-05-27", "05:30:20", "10:30:20", 220, 9],
      ["2022-05-30", "05:30:20", "10:30:20", 220, 9],
      ["2022-06-01", "09:02:20", "09:30:20", 28, 1],
      ["2022-06-02", "10:30:20", "15:30:20", 190, 10],
      ["2022-06-03", "08:10:20", "12:30:20", 20, 1],
      ["2022-06-04", "01:30:20", "18:14:20", 400, 20],
      ["2022-06-05", "13:40:20", "15:10:20", 80, 3],
      ["2022-06-06", "09:15:20", "13:20:20", 210, 11],
      ["2022-06-07", "08:06:20", "20:30:20", 300, 14],
      ["2022-06-08", "11:14:20", "15:30:20", 50, 2],
      ["2022-06-09", "06:30:20", "15:30:20", 350, 17],
      ["2022-06-12", "16:00:20", "28:30:20", 140, 6],
      ["2022-06-13", "06:30:20", "10:30:20", 220, 9],
      ["2022-06-14", "08:30:20", "12:50:20", 100, 3],
      ["2022-06-15", "09:30:20", "15:30:20", 250, 12],
      ["2022-06-16", "03:30:20", "18:14:20", 160, 17],
      ["2022-06-17", "13:30:20", "15:10:20", 80, 3],
      ["2022-06-19", "13:30:20", "15:10:20", 30, 2],
      ["2022-06-20", "08:15:20", "15:30:20", 270, 13],
      ["2022-06-22", "14:14:20", "15:30:20", 50, 2],
      ["2022-06-23", "10:30:20", "14:30:20", 180, 7],
      ["2022-06-25", "07:30:20", "15:30:20", 120, 6],
      ["2022-06-26", "16:30:20", "24:30:20", 300, 13],
      ["2022-06-27", "06:30:20", "10:30:20", 220, 9],
      ["2022-06-30", "06:30:20", "10:30:20", 220, 9],
      ["2022-07-01", "09:02:20", "09:30:20", 28, 1],
      ["2022-07-02", "10:30:20", "15:30:20", 250, 12],
      ["2022-07-03", "08:10:20", "12:30:20", 200, 8],
      ["2022-07-04", "01:30:20", "18:14:20", 300, 15],
      ["2022-07-05", "13:40:20", "15:10:20", 80, 3],
      ["2022-07-06", "09:15:20", "13:20:20", 200, 9],
      ["2022-07-07", "08:05:20", "20:30:20", 300, 14],
      ["2022-07-08", "11:14:20", "15:30:20", 50, 2],
      ["2022-07-09", "09:30:20", "12:30:20", 180, 7],
      ["2022-07-10", "11:30:20", "17:30:20", 150, 7],
      ["2022-07-11", "05:30:20", "15:30:20", 350, 17],
      ["2022-07-12", "16:00:20", "28:30:20", 140, 6],
      ["2022-07-13", "05:30:20", "10:30:20", 220, 9],
      ["2022-07-14", "08:30:20", "12:50:20", 200, 7],
      ["2022-07-15", "09:30:20", "15:30:20", 250, 12],
      ["2022-07-16", "10:30:20", "15:30:20", 250, 12],
      ["2022-07-17", "06:10:20", "12:30:20", 300, 14],
      ["2022-07-18", "03:30:20", "18:14:20", 500, 22],
      ["2022-07-19", "13:30:20", "15:10:20", 80, 3],
      ["2022-07-20", "09:15:20", "11:30:20", 90, 4],
      ["2022-07-21", "08:20:20", "20:30:20", 600, 26],
      ["2022-07-22", "14:14:20", "15:30:20", 50, 2],
      ["2022-07-23", "10:30:20", "14:30:20", 180, 7],
      ["2022-07-24", "11:30:20", "15:30:20", 200, 6],
      ["2022-07-25", "07:30:20", "15:30:20", 200, 8],
      ["2022-07-26", "16:30:20", "24:30:20", 300, 13],
      ["2022-07-27", "05:30:20", "10:30:20", 220, 9],
      ["2022-08-01", "10:30:20", "15:30:20", 150, 8],
      ["2022-08-03", "09:10:20", "11:30:20", 130, 7],
      ["2022-08-04", "13:30:20", "18:14:20", 220, 12],
      ["2022-08-05", "13:40:20", "15:10:20", 80, 3],
      ["2022-08-06", "09:15:20", "13:20:20", 180, 7],
      ["2022-08-08", "11:14:20", "15:30:20", 20, 1],
      ["2022-08-10", "11:30:20", "17:30:20", 100, 4],
      ["2022-08-11", "08:30:20", "15:30:20", 300, 14],
      ["2022-08-12", "16:00:20", "29:30:20", 190, 10],
      ["2022-08-13", "05:30:20", "10:30:20", 160, 8],
      ["2022-08-14", "08:30:20", "12:50:20", 130, 6],
      ["2022-08-16", "10:30:20", "18:30:20", 300, 15],
      ["2022-08-17", "07:10:20", "14:30:20", 200, 10],
      ["2022-08-18", "12:30:20", "18:14:20", 20, 1],
      ["2022-08-19", "13:30:20", "15:10:20", 50, 2],
      ["2022-08-20", "10:15:20", "11:30:20", 40, 2],
      ["2022-08-22", "14:14:20", "15:30:20", 22, 1],
      ["2022-08-23", "10:30:20", "14:30:20", 140, 7],
      ["2022-08-24", "11:30:20", "15:30:20", 70, 3],
      ["2022-08-26", "16:30:20", "22:30:20", 200, 11],
      ["2022-08-27", "06:30:20", "20:30:20", 190, 9],
      ["2022-08-28", "05:30:20", "13:30:20", 200, 10],
      ["2022-09-01", "10:30:20", "15:30:20", 250, 13],
      ["2022-09-02", "10:30:20", "12:30:20", 110, 6],
      ["2022-09-03", "09:10:20", "11:30:20", 130, 7],
      ["2022-09-04", "13:30:20", "20:14:20", 380, 18],
      ["2022-09-05", "13:40:20", "15:10:20", 80, 3],
      ["2022-09-06", "09:15:20", "13:20:20", 180, 7],
      ["2022-09-07", "12:15:20", "13:20:20", 65, 3],
      ["2022-09-09", "11:14:20", "15:30:20", 20, 1],
      ["2022-09-10", "11:30:20", "17:30:20", 100, 4],
      ["2022-09-11", "08:30:20", "16:30:20", 360, 16],
      ["2022-09-12", "16:00:20", "29:30:20", 190, 10],
      ["2022-09-13", "05:30:20", "10:30:20", 160, 8],
      ["2022-09-14", "08:30:20", "12:50:20", 130, 6],
      ["2022-09-16", "10:30:20", "18:30:20", 300, 15],
      ["2022-09-17", "07:10:20", "14:30:20", 200, 10],
      ["2022-09-18", "12:30:20", "18:14:20", 20, 1],
      ["2022-09-19", "13:30:20", "15:10:20", 50, 2],
      ["2022-09-20", "10:15:20", "11:30:20", 40, 2],
      ["2022-09-22", "14:14:20", "15:30:20", 22, 1],
      ["2022-09-23", "10:30:20", "14:30:20", 200, 13],
      ["2022-09-24", "11:30:20", "15:30:20", 70, 3],
      ["2022-09-26", "16:30:20", "22:30:20", 200, 11],
      ["2022-09-27", "06:30:20", "20:30:20", 190, 9],
      ["2022-09-28", "05:30:20", "13:30:20", 200, 10],
      ["2022-10-01", "10:30:20", "15:30:20", 250, 13],
      ["2022-10-02", "10:30:20", "12:30:20", 110, 6],
      ["2022-10-03", "09:10:20", "11:30:20", 130, 7],
      ["2022-10-05", "13:40:20", "15:10:20", 80, 3],
      ["2022-10-06", "09:15:20", "13:20:20", 180, 7],
      ["2022-10-07", "12:15:20", "13:20:20", 65, 3],
      ["2022-10-09", "11:14:20", "15:30:20", 20, 1],
      ["2022-10-10", "11:30:20", "17:30:20", 100, 4],
      ["2022-10-12", "16:00:20", "29:30:20", 190, 10],
      ["2022-10-13", "05:30:20", "10:30:20", 160, 8],
      ["2022-10-14", "08:30:20", "12:50:20", 130, 6],
      ["2022-10-16", "10:30:20", "18:30:20", 300, 15],
      ["2022-10-17", "07:10:20", "14:30:20", 200, 10],
      ["2022-10-19", "13:30:20", "15:10:20", 50, 2],
      ["2022-10-20", "10:15:20", "11:30:20", 40, 2],
      ["2022-10-23", "10:30:20", "14:30:20", 200, 13],
      ["2022-10-24", "11:30:20", "15:30:20", 70, 3],
      ["2022-10-26", "16:30:20", "22:30:20", 200, 11],
      ["2022-10-27", "06:30:20", "20:30:20", 190, 9],
      ["2022-10-28", "05:30:20", "13:30:20", 200, 10],
      ["2022-11-01", "10:30:20", "15:30:20", 250, 13],
      ["2022-11-02", "10:30:20", "12:30:20", 110, 6],
      ["2022-11-03", "09:10:20", "11:30:20", 130, 7],
      ["2022-11-05", "13:40:20", "15:10:20", 80, 3],
      ["2022-11-06", "09:15:20", "13:20:20", 200, 10],
      ["2022-11-07", "12:15:20", "13:20:20", 65, 3],
      ["2022-11-09", "11:14:20", "15:30:20", 20, 1],
      ["2022-11-10", "11:30:20", "17:30:20", 100, 4],
      ["2022-11-12", "16:00:20", "29:30:20", 190, 10],
      ["2022-11-13", "05:30:20", "10:30:20", 160, 8],
      ["2022-11-15", "10:30:20", "15:30:20", 250, 13],
      ["2022-11-16", "10:30:20", "12:30:20", 110, 6],
      ["2022-11-17", "09:10:20", "11:30:20", 130, 7],
      ["2022-11-19", "13:40:20", "15:10:20", 80, 3],
      ["2022-11-21", "09:15:20", "13:20:20", 200, 10],
      ["2022-11-22", "12:15:20", "13:20:20", 65, 3],
      ["2022-11-23", "11:14:20", "15:30:20", 20, 1],
      ["2022-11-24", "11:30:20", "17:30:20", 100, 4],
      ["2022-11-25", "16:00:20", "29:30:20", 190, 10],
      ["2022-11-26", "05:30:20", "10:30:20", 160, 8],
      ["2022-11-27", "05:30:20", "10:30:20", 160, 8],
      ["2022-12-01", "09:10:20", "11:30:20", 130, 7],
      ["2022-12-02", "13:40:20", "15:10:20", 80, 3],
      ["2022-12-03", "09:15:20", "13:20:20", 200, 10],
      ["2022-12-04", "12:15:20", "13:20:20", 65, 3],
      ["2022-12-05", "11:14:20", "15:30:20", 20, 1],
      ["2022-12-06", "11:30:20", "17:30:20", 100, 4],
      ["2022-12-07", "16:00:20", "29:30:20", 190, 10],
      ["2022-12-08", "05:30:20", "10:30:20", 160, 8],
      ["2022-12-09", "11:14:20", "15:30:20", 20, 1],
      ["2022-12-10", "11:30:20", "17:30:20", 100, 4],
      ["2022-12-12", "16:00:20", "29:30:20", 190, 10],
      ["2022-12-13", "05:30:20", "10:30:20", 160, 8],
      ["2022-12-15", "10:30:20", "15:30:20", 250, 13],
      ["2022-12-16", "10:30:20", "12:30:20", 110, 6],
      ["2022-12-17", "09:10:20", "11:30:20", 130, 7],
      ["2022-12-19", "13:40:20", "15:10:20", 80, 3],
      ["2022-12-21", "09:15:20", "13:20:20", 200, 10],
      ["2022-12-22", "12:15:20", "13:20:20", 65, 3],
      ["2022-12-23", "11:14:20", "15:30:20", 20, 1],
      ["2022-12-24", "11:30:20", "17:30:20", 100, 4],
      ["2022-12-25", "16:00:20", "29:30:20", 190, 10],
      ["2022-12-26", "05:30:20", "10:30:20", 160, 8],
      ["2022-12-27", "05:30:20", "10:30:20", 160, 8],
      ["2023-01-01", "09:10:20", "11:30:20", 130, 7],
      ["2023-01-02", "13:40:20", "15:10:20", 80, 3],
      ["2023-01-03", "09:15:20", "13:20:20", 200, 10],
      ["2023-01-04", "12:15:20", "13:20:20", 65, 3],
      ["2023-01-05", "11:14:20", "15:30:20", 20, 1],
      ["2023-01-06", "11:30:20", "17:30:20", 100, 4],
      ["2023-01-07", "16:00:20", "29:30:20", 190, 10],
      ["2023-01-08", "05:30:20", "10:30:20", 160, 8],
      ["2023-01-09", "11:14:20", "15:30:20", 20, 1],
      ["2023-01-10", "11:30:20", "17:30:20", 100, 4],
      ["2023-01-11", "11:30:20", "17:30:20", 100, 4],
      ["2023-01-12", "16:00:20", "29:30:20", 190, 10],
      ["2023-01-13", "05:30:20", "10:30:20", 160, 8],
      ["2023-01-14", "05:30:20", "10:30:20", 100, 5],
      ["2023-01-15", "10:30:20", "15:30:20", 250, 13],
      ["2023-01-16", "10:30:20", "12:30:20", 50, 2],
      ["2023-01-17", "09:10:20", "11:30:20", 130, 7],
      ["2023-02-01", "09:10:20", "11:30:20", 130, 7],
      ["2023-02-02", "13:40:20", "15:10:20", 80, 3],
      ["2023-02-03", "09:15:20", "13:20:20", 200, 10],
      ["2023-02-04", "12:15:20", "13:20:20", 65, 3],
      ["2023-02-05", "11:14:20", "15:30:20", 20, 1],
      ["2023-02-06", "11:30:20", "17:30:20", 100, 4],
      ["2023-02-07", "16:00:20", "29:30:20", 190, 10],
      ["2023-02-08", "05:30:20", "10:30:20", 160, 8],
      ["2023-02-09", "11:14:20", "15:30:20", 20, 1],
      ["2023-02-10", "11:30:20", "17:30:20", 100, 4],
      ["2023-02-11", "11:30:20", "17:30:20", 100, 4],
      ["2023-02-12", "16:00:20", "29:30:20", 190, 10],
      ["2023-02-13", "05:30:20", "10:30:20", 160, 8],
      ["2023-02-14", "05:30:20", "10:30:20", 100, 5],
      ["2023-02-15", "10:30:20", "15:30:20", 250, 13],
      ["2023-02-16", "10:30:20", "12:30:20", 50, 2],
      ["2023-02-17", "09:10:20", "11:30:20", 130, 7],
      ["2023-02-18", "11:14:20", "15:30:20", 20, 1],
      ["2023-02-19", "11:30:20", "17:30:20", 100, 4],
      ["2023-02-20", "11:30:20", "17:30:20", 100, 4],
      ["2023-02-21", "16:00:20", "29:30:20", 190, 10],
      ["2023-02-22", "05:30:20", "10:30:20", 160, 8],
      ["2023-02-23", "05:30:20", "10:30:20", 100, 5],
      ["2023-02-24", "10:30:20", "15:30:20", 250, 13],
      ["2023-02-25", "10:30:20", "12:30:20", 50, 2],
      ["2023-02-26", "09:10:20", "11:30:20", 130, 7],
      ["2023-03-01", "09:10:20", "11:30:20", 130, 7],
      ["2023-03-02", "13:40:20", "15:10:20", 80, 3],
      ["2023-03-03", "09:15:20", "13:20:20", 200, 10],
      ["2023-03-04", "12:15:20", "13:20:20", 65, 3],
      ["2023-03-05", "11:14:20", "15:30:20", 20, 1],
      ["2023-03-06", "11:30:20", "17:30:20", 100, 4],
      ["2023-03-07", "16:00:20", "29:30:20", 190, 10],
      ["2023-03-08", "05:30:20", "10:30:20", 160, 8],
      ["2023-03-12", "16:00:20", "29:30:20", 190, 10],
      ["2023-03-13", "05:30:20", "10:30:20", 160, 8],
      ["2023-03-14", "05:30:20", "10:30:20", 100, 5],
      ["2023-03-15", "10:30:20", "15:30:20", 250, 13],
      ["2023-03-18", "11:14:20", "15:30:20", 20, 1],
      ["2023-03-19", "11:30:20", "17:30:20", 100, 4],
      ["2023-03-20", "11:30:20", "17:30:20", 100, 4],
      ["2023-03-21", "16:00:20", "29:30:20", 190, 10],
      ["2023-03-22", "05:30:20", "10:30:20", 160, 8],
      ["2023-03-23", "05:30:20", "10:30:20", 100, 5],
      ["2023-03-24", "10:30:20", "15:30:20", 250, 13],
      ["2023-03-25", "10:30:20", "12:30:20", 50, 2],
      ["2023-03-26", "09:10:20", "11:30:20", 130, 7],
      ["2023-04-01", "09:10:20", "11:30:20", 130, 7],
      ["2023-04-02", "13:40:20", "15:10:20", 80, 3],
      ["2023-04-03", "09:15:20", "13:20:20", 200, 10],
      ["2023-04-04", "12:15:20", "13:20:20", 65, 3],
      ["2023-04-05", "11:14:20", "15:30:20", 20, 1],
      ["2023-04-06", "11:30:20", "17:30:20", 100, 4],
      ["2023-04-07", "16:00:20", "29:30:20", 190, 10],
      ["2023-04-08", "05:30:20", "10:30:20", 160, 8],
      ["2023-04-09", "11:14:20", "15:30:20", 20, 1],
      ["2023-04-10", "11:30:20", "17:30:20", 100, 4],
      ["2023-04-11", "11:30:20", "17:30:20", 100, 4],
      ["2023-04-12", "16:00:20", "29:30:20", 190, 10],
      ["2023-04-13", "05:30:20", "10:30:20", 160, 8],
      ["2023-04-14", "05:30:20", "10:30:20", 100, 5],
      ["2023-04-15", "10:30:20", "15:30:20", 250, 13],
      ["2023-04-16", "10:30:20", "12:30:20", 50, 2],
      ["2023-04-17", "09:10:20", "11:30:20", 130, 7],
      ["2023-04-18", "11:14:20", "15:30:20", 20, 1],
      ["2023-04-19", "11:30:20", "17:30:20", 100, 4],
      ["2023-04-20", "11:30:20", "17:30:20", 100, 4],
      ["2023-04-21", "16:00:20", "29:30:20", 190, 10],
      ["2023-04-22", "05:30:20", "10:30:20", 160, 8],
      ["2023-04-23", "05:30:20", "10:30:20", 100, 5],
      ["2023-04-24", "10:30:20", "15:30:20", 250, 13],
      ["2023-04-25", "10:30:20", "12:30:20", 50, 2],
      ["2023-04-26", "09:10:20", "11:30:20", 130, 7],
      ["2023-05-01", "09:10:20", "11:30:20", 130, 7],
      ["2023-05-02", "13:40:20", "15:10:20", 80, 3],
      ["2023-05-03", "09:15:20", "13:20:20", 200, 10],
      ["2023-05-04", "12:15:20", "13:20:20", 65, 3],
      ["2023-05-05", "11:14:20", "15:30:20", 20, 1],
      ["2023-05-06", "11:30:20", "17:30:20", 100, 4],
      ["2023-05-07", "16:00:20", "29:30:20", 190, 10],
      ["2023-05-08", "05:30:20", "10:30:20", 160, 8],
      ["2023-05-09", "11:14:20", "15:30:20", 20, 1],
      ["2023-05-10", "11:30:20", "17:30:20", 100, 4],
      ["2023-05-11", "11:30:20", "17:30:20", 100, 4],
      ["2023-05-12", "16:00:20", "29:30:20", 190, 10],
      ["2023-05-13", "05:30:20", "10:30:20", 160, 8],
      ["2023-05-14", "05:30:20", "10:30:20", 100, 5],
      ["2023-05-15", "10:30:20", "15:30:20", 250, 13],
      ["2023-05-16", "10:30:20", "12:30:20", 50, 2],
      ["2023-05-17", "09:10:20", "11:30:20", 130, 7],
      ["2023-05-18", "11:14:20", "15:30:20", 20, 1],
      ["2023-05-19", "11:30:20", "17:30:20", 100, 4],
      ["2023-05-20", "11:30:20", "17:30:20", 100, 4],
      ["2023-05-21", "16:00:20", "29:30:20", 190, 10],
      ["2023-05-22", "05:30:20", "10:30:20", 160, 8],
      ["2023-05-23", "05:30:20", "10:30:20", 100, 5],
      ["2023-05-24", "10:30:20", "15:30:20", 250, 13],
      ["2023-05-25", "10:30:20", "12:30:20", 50, 2],
      ["2023-05-26", "09:10:20", "11:30:20", 130, 7],
      ["2023-05-27", "05:30:20", "10:30:20", 120, 6],
      ["2023-05-28", "05:30:20", "10:30:20", 80, 4],
      ["2023-05-29", "10:30:20", "15:30:20", 200, 10],
      ["2023-05-30", "10:30:20", "12:30:20", 50, 2],
      ["2023-05-31", "09:10:20", "11:30:20", 130, 7],
      ["2023-06-01", "09:10:20", "11:30:20", 100, 5],
      ["2023-06-02", "09:10:20", "11:30:20", 60, 3],

       ];
    await SQLiteHelper.instance.insertInTrackingTable2(list);
    SQLiteHelper.instance.insertInTrackingTable();
  }

  getRules()async{

    final parentalControl = await SQLiteHelper.instance.readParentalControl();

    if(parentalControl["password"].toString().isNotEmpty){
      final now = DateTime.now();
      final date  = now.toString().replaceRange(10, null, "");
      if(await SQLiteHelper.instance.checkBlockDay(date)){
        Navigator.of(context).pushAndRemoveUntil(MaterialPageRoute(builder: (_) => EntryBlockScreen(flag: 1)),(route) => false,);
        return;
      }
      List<String> b = [];
      if(parentalControl["blockedDays"] != null){
        b = List.from((parentalControl["blockedDays"].split(',')));
      }
      String today  = DateFormat('EEEE').format(now).substring(0,3);
      if(b.contains(today)){
        if(!await SQLiteHelper.instance.checkAllowDay(date)){
          Navigator.of(context).pushAndRemoveUntil(MaterialPageRoute(builder: (_) => EntryBlockScreen(flag: 1)),(route) => false,);
          return;
        }
      }
      DateTime time = DateTime.now();
      print("Hours::::");
      List<String> ol = [];
      List<String> cl = [];
      int h1 = -1;
      int h2 = -1;
      if(parentalControl["openTime"] != null){
        ol = List.from(parentalControl["openTime"].toString().split(":"));
        h1 = int.parse(ol[0]);
      }
      if(parentalControl["closeTime"] != null){
        cl = List.of(parentalControl["closeTime"].toString().split(":"));
        h2 = int.parse(cl[0]);
      }

      TimeOfDay entryTime = TimeOfDay(hour: h1 < 12 ? h1 - 1 : h1 == 12 ? 0: h1 == 24 ? 12 : h1, minute: int.parse(ol[1]));
      TimeOfDay leavingTime = TimeOfDay(hour: h2 < 12 ? h2 - 1 : h2 == 12 ? 0: h2 == 24 ? 12 : h2, minute: int.parse(cl[1]));
      if(h1 != -1 && h2 != -1){
        if(time.hour < entryTime.hour || (time.hour == entryTime.hour && time.minute < entryTime.minute)){
          Navigator.of(context).pushAndRemoveUntil(MaterialPageRoute(builder: (_) => EntryBlockScreen(flag: 2, msg: "You can enter the app after ${entryTime.hour < 12 ? entryTime.hour + 1 : entryTime.hour > 12 ? entryTime.hour - 12 : 12}:${entryTime.minute} ${entryTime.hour < 12 ? "AM" : "PM"}",)),(route) => false,);
          return;
        }else if(time.hour > leavingTime.hour || (time.hour == leavingTime.hour && time.minute > leavingTime.minute)){
          Navigator.of(context).pushAndRemoveUntil(MaterialPageRoute(builder: (_) => EntryBlockScreen(flag: 2, msg: "You can\'t enter the app after ${leavingTime.hour < 12 ? leavingTime.hour + 1 : leavingTime.hour > 12 ? leavingTime.hour - 12 : 12}:${leavingTime.minute} ${leavingTime.hour < 12 ? "AM" : "PM"}",)),(route) => false,);
          setState(() {

          });
          return;
        }
      }else if(h1 != -1){
        if(time.hour > leavingTime.hour || (time.hour == leavingTime.hour && time.minute > leavingTime.minute)){
          Navigator.of(context).pushAndRemoveUntil(MaterialPageRoute(builder: (_) => EntryBlockScreen(flag: 2, msg: "You can\'t enter the app after ${leavingTime.hour < 12 ? leavingTime.hour + 1 : leavingTime.hour > 12 ? leavingTime.hour - 12 : 12}:${leavingTime.minute} ${leavingTime.hour < 12 ? "AM" : "PM"}",)),(route) => false,);
          return;
        }
      }else if(h2 != -1){
        if(time.hour < entryTime.hour || (time.hour == entryTime.hour && time.minute < entryTime.minute)){
          Navigator.of(context).pushAndRemoveUntil(MaterialPageRoute(builder: (_) => EntryBlockScreen(flag: 2, msg: "You can enter the app after ${entryTime.hour < 12 ? entryTime.hour + 1 : entryTime.hour > 12 ? entryTime.hour - 12 : 12}:${entryTime.minute} ${entryTime.hour < 12 ? "AM" : "PM"}",)),(route) => false,);
          return;
        }
      }
      final trackingData = await SQLiteHelper.instance.readFromTrackingTable(date);
      final rule = await SQLiteHelper.instance.readRule();
      rule.forEach((element) {

        if(element.weekDay == today){
          if(element.active){
            List<String> l = (element.durationUsage.split(':'));
            int duration = int.parse(l[0]) *60 + int.parse(l[1]);
            if(trackingData["period"] != null){
              if(duration < trackingData["period"]){
                Navigator.of(context).pushAndRemoveUntil(MaterialPageRoute(builder: (_) => EntryBlockScreen(flag: 0)),(route) => false,);
                return;
              }
            }
          }
        }
      });
    }

  }

  timeCounter(){

    const oneMin = Duration(seconds: 60);
    timer = Timer.periodic(
        oneMin,
          (Timer timer) async{
              await SQLiteHelper.instance.updatePeriod();
              getRules();
          }

    );

  }

  Future cacheImage(BuildContext context,String imageUrl) => precacheImage(
    CachedNetworkImageProvider(imageUrl),
    context
  );
  @override
  void initState() {
    NavScreen.context = this.context;
    getAnimes();
    insertData();


    //SQLiteHelper.instance.insertInTrackingTable();
    print("/////////////////////////////////finished");

    //SQLiteHelper.instance.readFromTrackingTable1();
    timeCounter();
    super.initState();
  }

  @override
  void dispose() {
    timer.cancel();
    super.dispose();
  }

  @override
  Widget build(BuildContext context) {
    return BlocListener<IsLoadingCubit,List<bool>>(
      listener: (context,value)async{
        print(value);
        print("background download" + backgroundDownload.toString());
        if(value[0] == false && value[1] == false && backgroundDownload){
          print("listener" + value.toString());
          context.read<IsLoadingCubit>().changeSecondState(true);
          animes = await Services.getAnimesByKind("All", countAnime, "",10);
          WidgetsBinding.instance!.addPostFrameCallback((_) => loadData());
        }
      },
      child: Scaffold(
        backgroundColor: backgroundColor,
        body: MultiBlocProvider(
          providers: [
            BlocProvider<AnimesLoadCubit>(
              create: (_) => AnimesLoadCubit(),
            ),
            BlocProvider<SearchKindCubit>(
              create: (_) => SearchKindCubit(),
            ),
            BlocProvider<SearchAnimeCubit>(
              create: (_) => SearchAnimeCubit(),
            ),
            BlocProvider<ComingSoonAnimeCubit>(
              create: (_) => ComingSoonAnimeCubit(),
            ),
            BlocProvider<SearchCubit>(
              create: (_) => SearchCubit(),
            )
          ],
          child: _currentIndex == 3 ? SettingsScreen(changeTheme: changeTheme,changeBackgroundDownload: changeBackgroundDownload,changeEmail: changeEmail) : _screens[_currentIndex],
        ),
        bottomNavigationBar: BottomNavigationBar(
          type: BottomNavigationBarType.fixed,
          backgroundColor: backgroundColor,
          items: _icons.map((title, icon) => MapEntry(
              title,
              BottomNavigationBarItem(
                icon: Icon(icon,size: 30,),
                label: title,
              )
          )).values.toList(),
          selectedItemColor: textColor,
          currentIndex: _currentIndex,
          selectedFontSize: 11.0,
          unselectedItemColor: Colors.grey,
          unselectedFontSize: 11.0,
          onTap: (index) => setState(() => _currentIndex = index),
        ),
      ),
    );
  }
}
